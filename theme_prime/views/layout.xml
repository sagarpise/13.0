<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--
    ============================================================================
    Options
    ============================================================================
    -->
    <!-- Shop page product -->
    <template id="d_product_quick_view_option" inherit_id="website_sale.products_item" customize_show="True" active="False" name="Quick View Button"/>
    <template id="d_product_show_rating_option" inherit_id="website_sale.products_item" customize_show="True" active="False" name="Rating"/>
    <template id="d_product_color_preview_option" inherit_id="website_sale.products_item" customize_show="True" active="False" name="Color Preview"/>

    <!-- Shop page -->
    <template id="d_product_sidebar_option" inherit_id="website_sale.products" customize_show="True" active="False" name="Filters Sidebar"/>
    <template id="d_product_mobile_two_columns" inherit_id="website_sale.products" customize_show="True" active="False" name="Two Columns Grid in Mobile"/>
    <template id="d_product_collapse_filters" inherit_id="website_sale.products" customize_show="True" active="False" name="Collapse Filters"/>
    <template id="option_enable_ajax_load" inherit_id="website_sale.products" customize_show="True" active="False" name="Ajax Load Products">
        <xpath expr="//div[@id='products_grid']" position="attributes">
            <attribute name="data-ajax-enable">yes_i_m_enabled</attribute>
            <attribute name="data-total-pages" value="pager['page_count']"></attribute>
        </xpath>
    </template>

    <!--
    ============================================================================
    404 Page
    ============================================================================
    -->
    <template id="404" inherit_id="http_routing.404">
        <xpath expr="//div[@id='wrap']" position="replace">
            <div id="wrap">
                <t t-raw="0"/>
                <div class="oe_structure oe_empty">
                    <div class="container">
                        <div class="row justify-content-center my-4">
                            <div class="col-12 col-lg-6">
                                <t t-call="droggol_theme_common.dr_404_svg">
                                    <t t-set="el_class" t-value="'mt-4'"/>
                                </t>
                            </div>
                            <div class="col-12 text-center mt32">
                                <h2>We can't seem to find the page you are looking for</h2>
                                <p class="mt-3 lead">
                                    Here are some helpful links instead:
                                </p>
                            </div>
                        </div>
                        <div class="row mb-4 justify-content-center">
                            <div class="col-12 col-lg-10 col-xl-8">
                                <div class="row">
                                    <div class="col-12 col-lg-4 mb-3">
                                        <a class="card" href="/">
                                            <div class="card-body py-3">
                                                <div class="media align-items-center">
                                                    <span class="lnr lnr-home fa-2x text-primary ml-1 mr-4"></span>
                                                    <div class="media-body">
                                                        <h6 class="mb-1">Homepage</h6>
                                                        <div>Return to homepage</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-12 col-lg-4 mb-3">
                                        <a class="card tp-search-popover" href="#">
                                            <div class="card-body py-3">
                                                <div class="media align-items-center">
                                                    <span class="lnr lnr-magnifier fa-2x text-success ml-1 mr-4"></span>
                                                    <div class="media-body">
                                                        <h6 class="mb-1">Search</h6>
                                                        <div>Find your product</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-12 col-lg-4 mb-3">
                                        <a class="card" href="/contactus">
                                            <div class="card-body py-3">
                                                <div class="media align-items-center">
                                                    <span class="lnr lnr-phone-handset fa-2x text-info ml-1 mr-4"></span>
                                                    <div class="media-body">
                                                        <h6 class="mb-1">Contact us</h6>
                                                        <div>Get in touch with us</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

    <!--
    ============================================================================
    Pager
    ============================================================================
    -->
    <template id="pager" inherit_id="portal.pager" name="Pager">
        <xpath expr="//ul" position="replace">
            <ul t-if="pager['page_count'] > 1" t-attf-class="#{ classname or '' } pagination m-0 #{_classes}" t-att-style="style or None">
                <li t-attf-class="page-item #{'disabled' if pager['page']['num'] == 1 else ''}">
                    <a t-att-href=" pager['page_previous']['url'] if pager['page']['num'] != 1 else None" class="page-link"><i class="lnr lnr-chevron-left"/></a>
                </li>
                <t t-foreach="pager['pages']" t-as="page">
                    <li t-attf-class="page-item #{'active' if page['num'] == pager['page']['num'] else ''}"> <a t-att-href="page['url']" class="page-link" t-raw="page['num']"></a></li>
                </t>
                <li t-attf-class="page-item #{'disabled' if pager['page']['num'] == pager['page_count'] else ''}">
                    <a t-att-href="pager['page_next']['url'] if pager['page']['num'] != pager['page_count'] else None" class="page-link"><i class="lnr lnr-chevron-right"/></a>
                </li>
            </ul>
        </xpath>
    </template>

    <!--
    ============================================================================
    Shop page
    ============================================================================
    -->
    <template id="products" inherit_id="website_sale.products" name="Products" priority="15">
        <xpath expr="//div[hasclass('products_pager')]" position="replace">
            <!-- FIX: Just for xpath to work better -->
            <div class="products_pager dr_dump_pager d-none" t-att-data-total-page="pager['page_count']">
                <t t-call="website.pager">
                    <t t-set="_classes">mt-2 ml-md-2</t>
                </t>
            </div>
            <!-- Fix End -->
            <div class="row">
                <div class="col-12">
                    <div class="border-bottom">
                    <div class="d-lg-flex justify-content-between align-items-center py-2">
                        <t t-set="is_filters_activated" t-value="request.website.viewref('website_sale.products_attributes').active or request.website.viewref('website_sale.products_categories').active"/>
                        <t t-set="is_sidebar_activated" t-value="request.website.viewref('theme_prime.d_product_sidebar_option').active"/>
                        <div class="d-flex flex-column flex-md-row align-items-md-center mt-md-2 mt-lg-0">
                            <button t-if="is_filters_activated" t-attf-class="btn btn-light border text-primary my-3 my-md-0 tp-filter-sidebar-toggle mr-md-3 #{'' if is_sidebar_activated else 'd-lg-none'}">
                                <i class="fa fa-filter mr-2"/> Filters
                            </button>
                            <ol t-if="category" class="breadcrumb m-0 p-0 bg-transparent">
                                <li class="breadcrumb-item">
                                    <a href="/shop">Shop</a>
                                </li>
                                <t t-foreach="category.parents_and_self" t-as="cat">
                                    <li t-if="cat.id == category.id" class="breadcrumb-item">
                                        <span class="mb-0 d-inline-block" t-field="cat.name"/> - <t t-esc="search_count"/> items
                                    </li>
                                    <li t-else="" class="breadcrumb-item">
                                        <a t-att-href="keep('/shop/category/%s' % slug(cat), category=0)" t-field="cat.name" />
                                    </li>
                                </t>
                            </ol>
                            <t t-else="">
                                <div>
                                    <h6 class="mb-0 d-inline-block">All Products</h6>
                                    - <t t-esc="search_count"/> items
                                </div>
                            </t>
                        </div>
                        <div class="d-flex mt-3 mt-md-0 align-items-center justify-content-between">
                            <t t-set="website_sale_pricelists" t-value="website.get_pricelist_available(show_visible=True)" />
                            <div t-attf-class="dropdown#{'' if website_sale_pricelists and len(website_sale_pricelists)&gt;1 else ' d-none'} mr-3">
                                <h6 class="d-inline mr-2">Pricelist :</h6>
                                <t t-set="curr_pl" t-value="website.get_current_pricelist()" />
                                <a role="button" href="#" class="dropdown-toggle text-body py-2" data-toggle="dropdown">
                                    <t t-esc="curr_pl and curr_pl.name or ' - '" />
                                </a>
                                <div class="dropdown-menu" role="menu">
                                    <t t-foreach="website_sale_pricelists" t-as="pl">
                                        <a role="menuitem" t-att-href="'/shop/change_pricelist/%s' % pl.id" class="dropdown-item">
                                            <span class="switcher_pricelist" t-att-data-pl_id="pl.id" t-esc="pl.name" />
                                        </a>
                                    </t>
                                </div>
                            </div>
                            <t t-if="request.website.viewref('website_sale.sort').active">
                                <t t-set="new_label">What's New</t>
                                <t t-set="list_price_desc_label">Price: High to Low</t>
                                <t t-set="list_price_asc_label">Price: Low to High</t>
                                <t t-set="name_asc_label">Name: A to Z</t>
                                <t t-set="name_desc_label">Name: Z to A</t>
                                <t t-set="website_sale_sortable" t-value="[
                                    (new_label, 'create_date desc'),
                                    (list_price_desc_label, 'list_price desc'),
                                    (list_price_asc_label, 'list_price asc'),
                                    (name_asc_label, 'name asc'),
                                    (name_desc_label, 'name desc')
                                ]"/>
                                <t t-set="website_sale_sortable_current" t-value="[sort for sort in website_sale_sortable if sort[1]==request.params.get('order', '')]"/>
                                <div class="dropdown dropdown_sorty_by">
                                    <h6 class="d-inline mr-2">Sort By :</h6>
                                    <a role="button" href="#" class="dropdown-toggle text-body py-2" data-toggle="dropdown">
                                        <t t-if='len(website_sale_sortable_current)'>
                                            <t t-raw='website_sale_sortable_current[0][0]'/>
                                        </t>
                                        <t t-else='1'>
                                            Default
                                        </t>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" role="menu">
                                        <t t-foreach="website_sale_sortable" t-as="sortby">
                                            <a role="menuitem" rel="noindex,nofollow" t-att-href="keep('/shop', order=sortby[1])" class="dropdown-item">
                                                <span t-raw="sortby[0]"/>
                                            </a>
                                        </t>
                                    </div>
                                </div>
                            </t>
                            <div t-if="request.website.viewref('website_sale.add_grid_or_list_option').active">
                                <div class="btn-group btn-group-toggle d-none d-md-inline-flex o_wsale_apply_layout py-2 ml-4" data-toggle="buttons">
                                    <label t-attf-class="btn btn-light #{'active' if layout_mode != 'list' else None} fa fa-th-large o_wsale_apply_grid" title="Grid">
                                        <input type="radio" name="wsale_products_layout" t-att-checked="'checked' if layout_mode != 'list' else None"/>
                                    </label>
                                    <label t-attf-class="btn btn-light #{'active' if layout_mode == 'list' else None} fa fa-th-list o_wsale_apply_list" title="List">
                                        <input type="radio" name="wsale_products_layout" t-att-checked="'checked' if layout_mode == 'list' else None"/>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <t t-set="attrib_without_brand_set" t-value="{v[1] for v in attrib_values if v[0] != 0}" />
                    <t t-set="attrib_brand_set" t-value="{v[1] for v in attrib_values if v[0] == 0}" />
                    <div t-if="attrib_set" class="tp-product-selected-attributes pb-2 align-items-center flex-wrap d-flex">
                        <div class="mr-2">
                            <h6 class="mb-0 d-none d-lg-inline"><i class="fa fa-filter"/> Filters</h6>
                            <a class="text-body ml-1" t-att-href="'/shop/category/' + str(category.id) if category else '/shop'">(Clear All)</a> :
                        </div>
                        <span class="tp-attribute mr-2 my-1 d-inline-block" t-foreach="request.env['product.attribute.value'].browse(attrib_without_brand_set)" t-as="attr">
                            <span t-esc="'%s : ' % attr.attribute_id.name"/>
                            <span t-if="attr.attribute_id.display_type == 'color'" class="tp-attribute-color d-inline-block mx-1" t-attf-style="background-color: #{attr.html_color or attr.name}"/>
                            <span t-esc="attr.name"/> <i class="fa fa-times ml-1 tp-attribute-remove" t-att-data-id="'%s-%s' % (attr.attribute_id.id, attr.id)"/>
                        </span>
                        <span class="tp-attribute mr-2 my-1 d-inline-block" t-foreach="request.env['dr.product.brand'].browse(attrib_brand_set)" t-as="brand">
                            <span>Brand : </span>
                            <span t-esc="brand.name"/> <i class="fa fa-times ml-1 tp-attribute-remove" t-att-data-id="'0-%s' % (brand.id)"/>
                        </span>
                    </div>
                    </div>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="attributes">
            <attribute name="t-attf-class">#{'tp-filter-sidebar-activated' if (is_filters_activated and is_sidebar_activated) else ''} col-lg-3</attribute>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="inside">
            <div class="row justify-content-between align-items-center pb-3 mt-1 mb-4 border-bottom tp-filter-sidebar-item d-none">
                <div class="col-auto">
                    <h5 class="mb-0">Filters</h5>
                </div>
                <div class="col-auto">
                    <a href="#" class="tp-filter-sidebar-toggle tp-filter-sidebar-close-btn">
                        <i class="lnr lnr-cross"/>
                    </a>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@id='category_header']" position="attributes">
            <attribute name="class" add="dr_category_zone" separator=" "/>
        </xpath>
        <!-- Display products in two columns grid in mobile -->
        <xpath expr="//div[hasclass('o_wsale_products_grid_table_wrapper')]" position="before">
            <t t-set="is_d_product_mobile_two_columns_activated" t-value="request.website.viewref('theme_prime.d_product_mobile_two_columns').active"/>
        </xpath>
        <xpath expr="//div[hasclass('o_wsale_products_grid_table_wrapper')]" position="attributes">
            <attribute name="class" remove="o_wsale_products_grid_table_wrapper" separator=" "/>
            <attribute name="t-attf-class" add="o_wsale_products_grid_table_wrapper #{is_d_product_mobile_two_columns_activated and 'dr_two_col_mobile' or ''}" separator=" "/>
        </xpath>
        <xpath expr="//div[@id='products_grid']/t[@t-else='']/div" position="replace">
            <div class="my-5" t-if="not search">
                <div class="text-center">
                    <h1 class="mt-4">We couldn't find any product!</h1>
                    <p t-if="category">No product defined in category <span class="text-dark" t-esc="category.display_name"/>.</p>
                </div>
                <div groups="sales_team.group_sale_manager" class="text-center mt48">
                    <div class="text-muted">Click<i>'New'</i> in the top-right corner to create your first product.</div>
                </div>
            </div>
            <div class="my-5" t-else="">
                <div class="text-center">
                    <div>You searched for <span class="text-primary" t-esc="search"/>.</div>
                    <t t-call="droggol_theme_common.dr_no_products_svg">
                        <t t-set="el_class" t-value="'m-5 mx-auto w-25'"/>
                    </t>
                    <h1 class="mt-4">We couldn't find any matches!</h1>
                    <p>Please check the spelling or try searching something else</p>
                </div>
                <div class="col-12 col-md-6 offset-md-3 mt48">
                    <form class="o_wsale_products_searchbar_form" method="get" action="/shop">
                        <div class="input-group">
                            <input type="text" name="search" data-limit="5" data-display-price="true" data-display-image="true" class="form-control search-query" placeholder="Search Product..." t-att-value="search"/>
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-primary">
                                    Search
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                <div groups="sales_team.group_sale_manager" class="text-center mt48">
                    <div class="text-muted">Click<i>'New'</i> in the top-right corner to create your first product.</div>
                </div>
            </div>
        </xpath>
    </template>

    <template id="products_item" inherit_id="website_sale.products_item" name="Products item">
        <xpath expr="//form" position="replace">
            <form action="/shop/cart/update" method="post" class="card oe_product_cart"
                t-att-data-publish="product.website_published and 'on' or 'off'"
                itemscope="itemscope" itemtype="http://schema.org/Product">
                <div class="card-body p-0 h-auto oe_product_image">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div class="ribbon-wrapper">
                        <a href="#" role="button" class="ribbon btn btn-danger">Sale</a>
                    </div>
                    <a t-att-href="product_href" class="d-block h-100 overflow-hidden" itemprop="url">
                        <!-- <div class="tp-mask position-absolute"/> -->
                        <span t-field="product.image_1920"
                            t-options="{'widget': 'image', 'preview_image': 'image_1024' if product_image_big else 'image_512'}"
                            class="d-flex h-100 justify-content-center align-items-center tp-product-image-container"/>
                    </a>
                    <button t-if="request.website.viewref('theme_prime.d_product_quick_view_option').active" type="button" role="button" class="btn btn-primary rounded-circle d_product_quick_view_btn text-truncate" title="Quick View" t-att-data-product-id="product.id">
                        <i class="ri ri-eye-line mr-1" role="img" aria-label="Quick View"></i>
                        <span> Quick View </span>
                    </button>
                    <span t-if="product.dr_label_id" t-attf-class="badge dr-product-label dr-product-label-color-#{product.dr_label_id.color}"><div class="corner"/><t t-esc="product.dr_label_id.name"/></span>
                </div>
                <div class="card-body p-0 o_wsale_product_information">
                    <div class="p-2 o_wsale_product_information_text">
                        <a class="text-body mt-1" style="display: table !important;width: 100%;table-layout: fixed;" t-att-href="product_href">
                            <h6 class="text-truncate d-block mb-2" itemprop="name" t-att-content="product.name" t-field="product.name"/>
                        </a>
                        <a role="button" t-if="not product.website_published" t-att-href="product_href" class="btn btn-sm btn-danger" title="This product is unpublished.">Unpublished</a>
                        <div class="product_price h6 mb-1" itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer">
                            <span t-if="combination_info['price']" class="text-primary" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                            <span itemprop="price" style="display:none;" t-esc="combination_info['price']" />
                            <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name" />
                            <strike t-attf-class="ml-1 small {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}" />
                            <t t-call="theme_prime.discount_in_percentage">
                                <t t-set="discount_class" t-value="'font-weight-bold'"/>
                            </t>
                        </div>
                        <t t-if="request.website.viewref('website_sale.product_comment').active and request.website.viewref('theme_prime.d_product_show_rating_option').active">
                            <t t-set="rating_stats" t-value="product.rating_get_stats()"/>
                            <div t-if="rating_stats['avg']" class="o_website_rating_static o_not_editable" t-att-data-rating="rating_stats['avg']">
                                <i class="fa fa-star"></i>
                                <span class="ml-1 text-body" t-esc="rating_stats['avg'] / 2"/>
                            </div>
                        </t>
                        <t t-if="request.website.viewref('theme_prime.d_product_color_preview_option').active">
                            <t t-set="product_colors" t-value="product._get_product_colors()"/>
                            <div t-if="len(product_colors)" class="tp-product-color-preview">
                                <div class="tp-product-color-preview-icon d-flex align-items-center">
                                    <div class="left-color" t-attf-style="background-color: #{product_colors[0]}"/>
                                    <div class="right-color" t-attf-style="background-color: #{product_colors[1]}"/>
                                    <strong class="ml-1" t-esc="len(product_colors)"/>
                                </div>
                            </div>
                        </t>
                    </div>
                    <div class="o_wsale_product_btn text-center">
                        <button t-if="request.website.viewref('theme_prime.d_product_quick_view_option').active" type="button" role="button" class="btn btn-secondary d_product_quick_view_btn" title="Quick View" t-att-data-product-id="product.id">
                            <i class="ri ri-eye-line" role="img" aria-label="Quick View"></i>
                        </button>
                    </div>
                </div>
            </form>
        </xpath>
    </template>

    <!-- Card Buttons START-->
    <template id="products_add_to_cart" inherit_id="website_sale.products_add_to_cart" name="Prime Add to Cart Btn" priority="35">
        <xpath expr="//span[hasclass('fa-shopping-cart')]" position="replace">
            <span class="ri ri-shopping-cart-line"/>
        </xpath>
    </template>

    <template id="add_to_wishlist" inherit_id="website_sale_wishlist.add_to_wishlist" name="Prime Wishlist Btn">
        <xpath expr="//span[hasclass('fa-heart')]" position="replace">
            <span class="ri ri-heart-line"/>
        </xpath>
    </template>

    <template id="add_to_compare" inherit_id="website_sale_comparison.add_to_compare" name="Prime Comparison Btn">
        <xpath expr="//span[hasclass('fa-exchange')]" position="replace">
            <span class="ri ri-arrow-left-right-fill"/>
        </xpath>
    </template>

    <!-- Card Buttons END -->

    <template id="products_description" inherit_id="website_sale.products_description" name="Product Description">
        <xpath expr="//div[hasclass('oe_subdescription')]" position="replace">
            <div class="oe_subdescription" contenteditable="false">
                <div itemprop="description" t-field="product.description_sale"/>
            </div>
        </xpath>
    </template>

    <template id="categories_recursive" inherit_id="website_sale.categories_recursive" name="Category list">
        <xpath expr="//li" position="attributes">
            <attribute name="class">mt-2</attribute>
        </xpath>
        <xpath expr="//li/a" position="replace">
            <a t-att-href="keep('/shop/category/' + slug(c), category=0)" class="p-0 text-body">
                <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" t-att-checked="c.id == int(category or 0)"/>
                    <label class="custom-control-label"><span t-field="c.name"/></label>
                </div>
            </a>
        </xpath>
    </template>

    <template id="products_categories" inherit_id="website_sale.products_categories" name="eCommerce Categories">
        <xpath expr="//button[@data-target='#wsale_products_categories_collapse']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
        <xpath expr="//div[@id='wsale_products_categories_collapse']" position="attributes">
            <attribute name="class">collapse d-none d-lg-block tp-filter-sidebar-item tp-sidebar-attribute</attribute>
        </xpath>
        <xpath expr="//div[@id='wsale_products_categories_collapse']/ul" position="before">
            <h6>
                Categories
            </h6>
        </xpath>
        <xpath expr="//div[@id='wsale_products_categories_collapse']/ul/li" position="replace">
            <li class="nav-item mt-2">
                <a t-att-href="keep('/shop',category=0)" class="p-0 text-body">
                    <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" t-att-checked="not category"/>
                        <label class="custom-control-label">All Products</label>
                    </div>
                </a>
            </li>
        </xpath>
    </template>

    <template id="option_collapse_categories_recursive" inherit_id="website_sale.option_collapse_categories_recursive" name="Collapse Category Recursive">
        <xpath expr="//li" position="replace">
            <li class="nav-item mt-2">
                <t t-set="children" t-value="not search and c.child_id or c.child_id.filtered(lambda c: c.id in search_categories_ids)"/>
                <i t-if="children" t-attf-class="float-right text-muted fa #{'fa-chevron-down' if c.id in category.parents_and_self.ids else 'fa-chevron-right'}"
                t-attf-title="#{'Unfold' if c.id in category.parents_and_self.ids else 'Fold'}"
                t-attf-aria-label="#{'Unfold' if c.id in category.parents_and_self.ids else 'Fold'}" role="img"/>
                <a t-att-href="keep('/shop/category/' + slug(c), category=0)" t-att-class="'p-0 text-body' if c.id == category.id else 'p-0 text-body'">
                    <div class="custom-control custom-radio">
                        <input type="radio" class="custom-control-input" t-att-checked="c.id == category.id"/>
                        <label class="custom-control-label"><span t-field="c.name"/></label>
                    </div>
                </a>
                <ul t-if="children" class="nav nav-pills flex-column nav-hierarchy" t-att-style="'display:block;' if c.id in category.parents_and_self.ids else 'display:none;'">
                    <t t-foreach="children" t-as="c">
                        <t t-call="website_sale.option_collapse_categories_recursive"/>
                    </t>
                </ul>
            </li>
        </xpath>
    </template>

    <template id="products_attributes" inherit_id="website_sale.products_attributes" name="Product Attribute's Filters">
        <xpath expr="//button[@data-target='#wsale_products_attributes_collapse']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
        <xpath expr="//div[@id='wsale_products_attributes_collapse']" position="replace">
            <div class="collapse d-none d-lg-block tp-filter-sidebar-item" id="wsale_products_attributes_collapse">
                <form class="js_attributes mb-2" method="get">
                    <input t-if="category" type="hidden" name="category" t-att-value="category.id" />
                    <input type="hidden" name="search" t-att-value="search" />
                    <ul class="nav nav-pills flex-column">

                        <t t-set="tp_is_product_collapse_filters_enabled" t-value="request.website.viewref('theme_prime.d_product_collapse_filters').active"/>

                        <!-- Brand -->
                        <t t-set="brands" t-value="request.env['dr.product.brand'].search(website.website_domain())"/>
                        <t t-set="tp_is_brand_filtered" t-value="0 in attributes_ids"/>

                        <li t-if="brands" class="nav-item tp-sidebar-attribute tp-filter-search py-3">
                            <div t-attf-class="d-flex justify-content-between align-items-center tp-attribute-title #{tp_is_product_collapse_filters_enabled and 'collapsible' or None} #{tp_is_brand_filtered and 'expand' or None}">
                                <h6 class="mb-0">
                                    Brand
                                </h6>
                                <span t-if="tp_is_product_collapse_filters_enabled" class="accordion-indicator">
                                    <i class="lnr lnr-chevron-right"/>
                                </span>
                            </div>
                            <div t-attf-class="tp-filter-collapse-area pt-3 #{tp_is_product_collapse_filters_enabled and 'collapsible' or None}" t-attf-style="display: #{(tp_is_brand_filtered or not tp_is_product_collapse_filters_enabled) and 'block' or 'none'}">
                                <div class="input-group input-group-sm mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-white border-0">
                                            <i class="lnr lnr-magnifier"/>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control search" placeholder="Search Brand"/>
                                </div>
                                <ul class="nav nav-pills flex-column ml-0 tp-product-filter-scrollbar flex-nowrap">
                                    <t t-foreach="brands.sorted(lambda line: line.id in attrib_brand_set, reverse=True)" t-as="brand">
                                        <li class="nav-item" t-att-data-search-term="brand.name.lower()">
                                            <div class="custom-control custom-checkbox mb-2 ml-1">
                                                <input type="checkbox" name="attrib" class="custom-control-input" t-att-id="'attribute_0-%s' % (brand.id)" t-att-value="'0-%s' % (brand.id)" t-att-checked="'checked' if brand.id in attrib_brand_set else None"/>
                                                <label class="custom-control-label" t-att-for="'attribute_0-%s' % (brand.id)"><span t-field="brand.name"/></label>
                                            </div>
                                        </li>
                                    </t>
                                </ul>
                            </div>
                        </li>

                        <!-- Attributes -->
                        <t t-foreach="attributes" t-as="a">
                            <li t-if="a.value_ids and len(a.value_ids) &gt; 1 and a.dr_is_enable_shop_filter" class="nav-item tp-sidebar-attribute tp-filter-search py-3">

                                <t t-set="tp_is_attribute_filtered" t-value="a.id in attributes_ids"/>

                                <div t-attf-class="d-flex justify-content-between align-items-center tp-attribute-title #{tp_is_product_collapse_filters_enabled and 'collapsible' or None} #{tp_is_attribute_filtered and 'expand' or None}">
                                    <h6 class="mb-0">
                                        <span t-field="a.name" />
                                    </h6>
                                    <span t-if="tp_is_product_collapse_filters_enabled" class="accordion-indicator">
                                        <i class="lnr lnr-chevron-right"/>
                                    </span>
                                </div>
                                <div t-attf-class="tp-filter-collapse-area pt-3 #{tp_is_product_collapse_filters_enabled and 'collapsible' or None}" t-attf-style="display: #{(tp_is_attribute_filtered or not tp_is_product_collapse_filters_enabled) and 'block' or 'none'}">
                                    <div t-if="a.dr_is_enable_shop_search and a.display_type != 'select'" class="input-group input-group-sm mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text bg-white border-0">
                                                <i class="lnr lnr-magnifier"/>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control search" t-attf-placeholder="Search #{a.name}"/>
                                    </div>
                                    <t t-if="a.display_type == 'select'">
                                        <select class="form-control" name="attrib">
                                            <option value="" />
                                            <t t-foreach="a.value_ids" t-as="v">
                                                <option t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name" t-att-selected="v.id in attrib_without_brand_set" />
                                            </t>
                                        </select>
                                    </t>
                                    <t t-if="a.display_type == 'radio'">
                                        <ul class="nav nav-pills flex-column ml-0 tp-product-filter-scrollbar flex-nowrap">
                                            <t t-foreach="a.value_ids.sorted(lambda line: line.id in attrib_without_brand_set, reverse=True)" t-as="v">
                                                <li class="nav-item" t-att-data-search-term="v.name.lower()">
                                                    <div class="custom-control custom-checkbox mb-2 ml-1">
                                                        <input type="checkbox" name="attrib" class="custom-control-input" t-att-id="'attribute_%s-%s' % (a.id,v.id)" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_without_brand_set else None"/>
                                                        <label class="custom-control-label" t-att-for="'attribute_%s-%s' % (a.id,v.id)"><span t-field="v.name"/></label>
                                                    </div>
                                                </li>
                                            </t>
                                        </ul>
                                    </t>
                                    <t t-if="a.display_type == 'radio_circle'">
                                        <ul class="list-unstyled d-flex flex-wrap ml-0 tp-product-filter-scrollbar dr-list-variant-radio-circle">
                                            <t t-foreach="a.value_ids.sorted(lambda line: line.id in attrib_without_brand_set, reverse=True)" t-as="v">
                                                <li t-att-data-search-term="v.name.lower()">
                                                    <input type="checkbox" name="attrib" class="d-none" t-att-id="'attribute_%s-%s' % (a.id,v.id)" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_without_brand_set else None"/>
                                                    <div class="radio_input_value">
                                                        <label class="dr-variant-radio-circle" t-att-for="'attribute_%s-%s' % (a.id,v.id)"><span t-field="v.name"/></label>
                                                    </div>
                                                </li>
                                            </t>
                                        </ul>
                                    </t>
                                    <t t-if="a.display_type == 'radio_square'">
                                        <ul class="list-unstyled d-flex flex-wrap ml-0 tp-product-filter-scrollbar dr-list-variant-radio-square">
                                            <t t-foreach="a.value_ids.sorted(lambda line: line.id in attrib_without_brand_set, reverse=True)" t-as="v">
                                                <li t-att-data-search-term="v.name.lower()">
                                                    <input type="checkbox" name="attrib" class="d-none" t-att-id="'attribute_%s-%s' % (a.id,v.id)" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_without_brand_set else None"/>
                                                    <div class="radio_input_value">
                                                        <label class="dr-variant-radio-square" t-att-for="'attribute_%s-%s' % (a.id,v.id)"><span t-field="v.name"/></label>
                                                    </div>
                                                </li>
                                            </t>
                                        </ul>
                                    </t>
                                    <t t-if="a.display_type == 'color'">
                                        <ul class="list-unstyled d-flex flex-wrap ml-0 tp-product-filter-scrollbar p-1">
                                            <t t-foreach="a.value_ids.sorted(lambda line: line.id in attrib_without_brand_set, reverse=True)" t-as="v">
                                                <li t-att-data-search-term="v.name.lower()">
                                                    <label t-att-title="v.name" t-attf-style="background-color:#{v.html_color or v.name}" t-attf-class="mr-2 css_attribute_color #{'active' if v.id in attrib_without_brand_set else ''}">
                                                        <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_without_brand_set else None" t-att-title="v.name" />
                                                    </label>
                                                </li>
                                            </t>
                                        </ul>
                                    </t>
                                </div>
                            </li>
                        </t>

                        <!-- Price -->
                        <li class="nav-item tp-sidebar-attribute py-3">
                            <h6 class="mb-0">
                                Price
                            </h6>
                            <div class="tp-product-price-filter mt-3">
                                <t t-set="current_pricelist_symbol" t-value="website.get_current_pricelist().currency_id.symbol" />
                                <t t-set="from_price" t-value="request.httprequest.args.get('min_price') or min_price"/>
                                <t t-set="to_price" t-value="request.httprequest.args.get('max_price') or max_price"/>
                                <div class="tp-product-price-slider" t-att-data-min="min_price" t-att-data-max="max_price" t-att-data-from="from_price" t-att-data-to="to_price" t-att-data-prefix="current_pricelist_symbol" />
                                <div class="form-row align-items-center justify-content-center mt-2">
                                    <div class="form-group col-5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text bg-transparent" t-esc="current_pricelist_symbol"/>
                                            </div>
                                            <input type="text" class="form-control" name="min_price" t-att-value="from_price" placeholder="From"/>
                                        </div>
                                    </div>
                                    <div class="form-group col-1 text-center">
                                        -
                                    </div>
                                    <div class="form-group col-5">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text bg-transparent" t-esc="current_pricelist_symbol"/>
                                            </div>
                                            <input type="text" class="form-control" name="max_price" t-att-value="to_price" placeholder="To"/>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-sm btn-primary float-right">Apply Filter</button>
                                <p class="text-danger tp-price-validate mb-0"/>
                            </div>
                        </li>
                    </ul>
                </form>
                <div class="py-4">
                    <a class="btn btn-dark btn-block" t-att-href="'/shop/category/' + str(category.id) if category else '/shop'">RESET</a>
                </div>
                <!-- Activate special offer snippets from droggol_theme_common -->
                <div class="oe_structure d-none d-lg-block mt-3 dr_offer_zone" t-field="website.dr_sale_special_offer" data-editor-message="Drag offer blocks here to customize"/>
            </div>
        </xpath>
    </template>

    <!--
    ============================================================================
    Product detail page
    ============================================================================
    -->
    <template id="product" name="Product" inherit_id="website_sale.product">
        <!-- Remove search & pricelist -->
        <xpath expr="//section[@id='product_detail']/div[hasclass('row')]" position="replace"/>
        <xpath expr="//div[hasclass('js_sale')]" position="before">
            <div class="my-2">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <ol class="breadcrumb mb-0 bg-transparent">
                                <li class="breadcrumb-item">
                                    <a href="/"><i class="fa fa-home"/></a>
                                </li>
                                <li class="breadcrumb-item">
                                    <a t-att-href="keep(category=0)">Shop</a>
                                </li>
                                <li t-if="category" class="breadcrumb-item">
                                    <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name" />
                                </li>
                                <li class="breadcrumb-item active">
                                    <span t-field="product.name" />
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@id='product_details']" position="attributes">
            <attribute name="class">col-12 col-lg-6 py-2</attribute>
        </xpath>
        <xpath expr="//div[hasclass('row')]/div[hasclass('col-md-6')]" position="attributes">
            <attribute name="class">col-12 col-lg-6 py-2</attribute>
        </xpath>
        <!-- Remove product price -->
        <xpath expr="//div[@id='product_details']//t[@t-call='website_sale.product_price']" position="replace"/>
        <!-- Remove product description -->
        <xpath expr="//hr[@t-if='product.description_sale']" position="replace"/>
        <xpath expr="//p[@t-field='product.description_sale']" position="replace"/>
        <!-- Add product label, rating, description and price -->
        <xpath expr="//h1[@t-field='product.name']" position="before">
            <input type="hidden" class="tp-zoom-factor" t-att-value="website.zoom_factor"/>
            <div t-attf-class="badge mb-3 dr-product-label-badge-#{product.dr_label_id.color}">
                <span t-field="product.dr_label_id.name"/>
            </div>
        </xpath>
        <xpath expr="//h1[@t-field='product.name']" position="attributes">
            <attribute name="class">h3</attribute>
        </xpath>
        <xpath expr="//t[@t-placeholder='select']" position="before">
            <t t-call="website_sale.product_price" />
            <t t-set="product_offer" t-value="product._get_product_pricelist_offer()"/>
            <div t-if="product_offer" class="row s_countdown pt-3 no-gutters" t-att-data-due-date="product_offer['date_end']">
                <div class="col-12">
                    <h6 class="mb-3" t-field="product_offer['rule'].offer_msg"/>
                </div>
                <div class="col-12">
                    <div class="o_not_editable row tp-pricing-timer" t-ignore="True">
                        <div class="col-auto">
                            <div class="tp-pricing-time">
                                <b class="countdown_days">
                                    00
                                </b>
                            </div>
                            <div class="small mt-2 text-center">
                                DAYS
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="tp-pricing-time">
                                <b class="countdown_hours">
                                    00
                                </b>
                            </div>
                            <div class="small mt-2 text-center">
                                HOURS
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="tp-pricing-time">
                                <b class="countdown_minutes">
                                    00
                                </b>
                            </div>
                            <div class="small mt-2 text-center">
                                MINUTES
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="tp-pricing-time">
                                <b class="countdown_seconds">
                                    00
                                </b>
                            </div>
                            <div class="small mt-2 text-center">
                                SECONDS
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 mt-3 end_msg_container css_non_editable_mode_hidden">
                    <h6 class="mb-0" t-field="product_offer['rule'].offer_finish_msg"/>
                </div>
            </div>
            <hr/>
        </xpath>
        <xpath expr="//h1[@t-field='product.name']" position="after">
            <t t-if="request.website.viewref('website_sale.product_comment').active">
                <t t-set="rating_stats" t-value="product.rating_get_stats()"/>
                <div t-if="rating_stats['total']" class="d-inline-block tp_product_rating o_not_editable" t-att-data-rating="rating_stats['avg']">
                    <span t-if="rating_stats['avg']" class="ml-1" t-esc="rating_stats['avg'] / 2"/>
                    <span class="ml-1" t-esc="'(%s Reviews)' % rating_stats['total']"/>
                </div>
            </t>
            <p t-field="product.description_sale" class="mt-3" placeholder="A short description that will also appear on documents." />
        </xpath>
        <xpath expr="//a[@id='add_to_cart']" position="replace">
            <a role="button" id="add_to_cart" class="btn btn-primary btn-lg mt16 js_check_product a-submit d-block d-sm-inline-block w-100 w-md-50" href="#">
                <i class="ri ri-shopping-cart-line rib"/> Add to Cart
            </a>
        </xpath>
        <!-- Add product brand -->
        <xpath expr="//div[@id='product_details']/hr[last()]" position="after">
            <t t-if="product.dr_brand_id">
                <div class="row align-items-center">
                    <div class="col-12 col-md-9 mt-2 mt-md-0">
                        <h6 class="dr_hover_color_primary">
                            <a t-attf-href="/shop?attrib=0-#{product.dr_brand_id.id}">
                                <span t-field="product.dr_brand_id.name"/>
                            </a>
                        </h6>
                        <p class="mb-0" t-field="product.dr_brand_id.description"/>
                    </div>
                    <div class="col-6 col-md-3" t-if="product.dr_brand_id.image" t-field="product.dr_brand_id.image" t-options="{'widget': 'image'}"/>
                </div>
                <hr/>
            </t>
        </xpath>
        <!-- Add product share -->
        <xpath expr="//div[@id='product_details']/p[hasclass('text-muted')][last()]" position="replace">
            <p>
                30-day money-back guarantee<br />
                Free Shipping in U.S.<br />
                Buy now, get in 2 days
            </p>
            <h6 class="d-inline-block mr-2">Share this product:</h6>
            <t t-call="website.s_share">
                <t t-set="_no_title" t-value="True"/>
                <t t-set="_classes" t-value="'d-inline-block'"/>
            </t>
        </xpath>
        <xpath expr="//div[@id='product_full_description']" position="replace"/>
        <!-- Tabs -->
        <xpath expr="//section[@id='product_detail']" position="after">
            <div class="container-fluid px-0 my-4">
                <div class="row no-gutters">
                    <div class="col-12 tab_product_details">
                        <ul class="nav nav-tabs justify-content-center" role="tablist">
                            <li groups="base.group_public,base.group_portal" t-if="product.website_description" class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tab_product_description" role="tab" aria-selected="true">
                                    <h6 class="my-1 d-flex align-items-center">
                                        <span class="ri ri-article-fill mr-1"/>
                                        Description
                                    </h6>
                                </a>
                            </li>
                            <li groups="base.group_user" class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tab_product_description" role="tab" aria-selected="true">
                                    <h6 class="my-1 d-flex align-items-center">
                                        <span class="ri ri-article-fill mr-1"/>
                                        Description
                                    </h6>
                                </a>
                            </li>
                            <li t-if="request.website.viewref('website_sale_comparison.product_attributes_body').active" class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab_product_specifications" role="tab" aria-selected="false">
                                    <h6 class="my-1 d-flex align-items-center">
                                        <span class="ri ri-ruler-2-fill mr-1" style="font"/>
                                        Specifications
                                    </h6>
                                </a>
                            </li>
                            <li t-if="request.website.viewref('website_sale.product_comment').active" class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab_product_rating" role="tab" aria-selected="false">
                                    <h6 class="my-1">
                                        <span class="ri ri-discuss-fill mr-1" style="font"/>
                                        Reviews &amp; Rating
                                    </h6>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">

                            <!-- Description -->
                            <div groups="base.group_public,base.group_portal" t-if="product.website_description" class="tab-pane fade show active" id="tab_product_description" role="tabpanel">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12 py-2">
                                            <div itemprop="description" t-field="product.website_description" class="oe_structure" id="product_full_description" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div groups="base.group_user" class="tab-pane fade show active" id="tab_product_description" role="tabpanel">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12 py-2">
                                            <div itemprop="description" t-field="product.website_description" class="oe_structure" id="product_full_description" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Specifications -->
                            <div t-if="request.website.viewref('website_sale_comparison.product_attributes_body').active" class="tab-pane fade" id="tab_product_specifications" role="tabpanel">
                                <section class="container" id="product_full_spec">
                                    <t t-set="categories" t-value="product.valid_product_template_attribute_line_ids._prepare_categories_for_display()"/>
                                    <t t-if="categories">
                                        <div class="row py-4">
                                            <div class="col-12 col-lg-8 offset-lg-2 tp-product-spec" id="product_specifications">
                                                <table class="table mb-0 border">
                                                    <t t-foreach="categories" t-as="category">
                                                        <t t-if="len(categories) > 1">
                                                            <tr class="clickable shadow-sm" data-toggle="collapse" t-att-data-target="'.o_ws_category_%d' % category.id">
                                                                <th class="text-left" t-att-colspan="2">
                                                                    <div class="d-flex justify-content-between align-items-center">
                                                                        <span t-if="category" t-field="category.name"/>
                                                                        <span t-else="">Uncategorized</span>
                                                                        <i class="fa fa-chevron-down"/>
                                                                    </div>
                                                                </th>
                                                            </tr>
                                                        </t>
                                                        <tr t-foreach="categories[category].filtered(lambda l: len(l.value_ids) > 1)" t-as="ptal" t-att-class="'collapse show o_ws_category_%d' % category.id">
                                                            <td><span t-field="ptal.attribute_id.name"/></td>
                                                            <td>
                                                                <t t-foreach="ptal.value_ids" t-as="pav">
                                                                    <span t-field="pav.name"/><t t-if="not pav_last"> or</t>
                                                                </t>
                                                            </td>
                                                        </tr>
                                                        <t t-set="single_value_attributes" t-value="categories[category]._prepare_single_value_for_display()"/>
                                                        <tr t-foreach="single_value_attributes" t-as="attribute" t-att-class="'collapse show o_ws_category_%d' % category.id">
                                                            <td><span t-field="attribute.name"/></td>
                                                            <td>
                                                                <t t-foreach="single_value_attributes[attribute]" t-as="ptal">
                                                                    <span t-field="ptal.product_template_value_ids._only_active().name"/><t t-if="not ptal_last">, </t>
                                                                </t>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                </table>
                                            </div>
                                        </div>
                                    </t>
                                    <div class="p-4 text-center" t-else="">
                                        No Specifications
                                    </div>
                                </section>
                            </div>

                            <!-- Rating -->
                            <div t-if="request.website.viewref('website_sale.product_comment').active" class="tab-pane fade" id="tab_product_rating" role="tabpanel">
                                <div class="o_shop_discussion_rating container">
                                    <section class="container">
                                        <div class="row mt-4">
                                            <div class="col-lg-8 offset-lg-1">
                                                <t t-call="portal.message_thread">
                                                    <t t-set="object" t-value="product"/>
                                                    <t t-set="display_rating" t-value="True"/>
                                                </t>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <t t-set="has_alternative_products" t-value="request.website.viewref('website_sale.recommended_products').active and product.alternative_product_ids"></t>
                    <t t-set="has_accessory_products" t-value="product.accessory_product_ids"></t>
                    <t t-set="has_two_blocks" t-value="has_alternative_products and has_accessory_products"></t>
                    <div t-if="has_alternative_products" t-attf-class="#{'col-md-6' if has_accessory_products else 'col-md-12'} my-3">

                        <t t-set="product_variant" t-value="product_variant or product._create_first_product_variant()"/>
                        <t t-set="id_list" t-value="[product_variant.id] if product_variant else []"/>
                        <t t-foreach="product.alternative_product_ids" t-as="alt_product">
                            <t t-set="alt_product_variant_id" t-value="alt_product._create_first_product_variant().id"/>
                            <t t-if="alt_product_variant_id" t-set="id_list" t-value="id_list + [alt_product_variant_id]"/>
                        </t>
                        <t t-set="ids" t-value="','.join([str(id) for id in id_list])"/>

                        <div t-attf-class="tp-owl-carousel #{'tp-has-two-blocks' if has_two_blocks else ''}">
                            <div class="position-relative">
                                <h5 class="tp_underline_title">Similar Products</h5>
                                <div class="tp_owl_carousel_controls" t-if="len(id_list) > 1">
                                    <button class="btn btn-link font-weight-bold tp-owl-carousel-prev"><i class="lni lni-chevron-left"></i></button>
                                    <button class="btn btn-link font-weight-bold tp-owl-carousel-next"><i class="lni lni-chevron-right"></i></button>
                                </div>
                            </div>

                            <div class="owl-carousel owl-theme owl-loaded d-none">
                                <div t-foreach="product.alternative_product_ids" t-as="alt_product" class="card tp_product_card_hover w-100">
                                    <a class="card-img-top text-center" t-att-href="alt_product.website_url">
                                        <t t-set="combination_info" t-value="alt_product._get_combination_info()"/>
                                        <t t-set="product_variant" t-value="alt_product.env['product.product'].browse(combination_info['product_id'])"/>
                                        <t t-if="product_variant">
                                            <img t-attf-src="/web/image/product.product/#{product_variant.id}/image_1920/350x350" class="img img-fluid" t-att-alt="product_variant.display_name"/>
                                        </t>
                                        <t t-else="">
                                            <img t-attf-src="/web/image/product.template/#{alt_product.id}/image_1920/350x350" class="img img-fluid" t-att-alt="alt_product.display_name"/>
                                        </t>
                                    </a>
                                    <span t-if="alt_product.dr_label_id" t-attf-class="badge dr-product-label dr-product-label-color-#{alt_product.dr_label_id.color}"><div class="corner"/><t t-esc="alt_product.dr_label_id.name"/></span>
                                    <div class="card-body text-center p-2">
                                        <div class="card-text">
                                            <t t-if="alt_product.public_categ_ids">
                                                <a class="text-decoration-none" t-attf-href="/shop/category/#{alt_product.public_categ_ids[0].id}">
                                                    <small class="dr_category_lable" t-esc="alt_product.public_categ_ids[0].name"/>
                                                </a>
                                            </t>
                                            <t t-else="">
                                                <br/>
                                            </t>
                                            <h6 class="text-truncate d-product-name mt-1" t-att-title="alt_product.name">
                                                <a t-att-href="alt_product.website_url">
                                                    <span t-field="alt_product.name" />
                                                </a>
                                            </h6>
                                            <div class="mt-1">
                                                <span class="font-weight-bold text-primary" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                                <small t-attf-class="oe_default_price ml-1 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div t-if="has_accessory_products" t-attf-class="#{'col-md-6' if has_alternative_products else 'col-md-12'} my-3">
                        <div t-attf-class="tp-owl-carousel #{'tp-has-two-blocks' if has_two_blocks else ''}">
                            <div class="position-relative">
                                <h5 class="tp_underline_title">Accessory Products</h5>
                                <div class="tp_owl_carousel_controls">
                                    <button class="btn btn-link font-weight-bold tp-owl-carousel-prev"><i class="lni lni-chevron-left"></i></button>
                                    <button class="btn btn-link font-weight-bold tp-owl-carousel-next"><i class="lni lni-chevron-right"></i></button>
                                </div>
                            </div>
                            <div class="owl-carousel owl-theme owl-loaded d-none">
                                <div t-foreach="product.accessory_product_ids" t-as="alt_product" class="card tp_product_card_hover w-100">
                                    <a class="card-img-top text-center" t-att-href="alt_product.website_url">
                                        <t t-set="combination_info" t-value="alt_product._get_combination_info_variant()"/>
                                        <img t-attf-src="/web/image/product.product/#{alt_product.id}/image_1920/350x350" class="img img-fluid" t-att-alt="combination_info['display_name']"/>
                                    </a>
                                    <span t-if="alt_product.dr_label_id" t-attf-class="badge dr-product-label dr-product-label-color-#{alt_product.dr_label_id.color}"><div class="corner"/><t t-esc="alt_product.dr_label_id.name"/></span>
                                    <div class="card-body text-center p-2">
                                        <div class="card-text">
                                            <t t-if="alt_product.public_categ_ids">
                                                <a class="text-decoration-none" t-attf-href="/shop/category/#{alt_product.public_categ_ids[0].id}">
                                                    <small class="dr_category_lable" t-esc="alt_product.public_categ_ids[0].name"/>
                                                </a>
                                            </t>
                                            <t t-else="">
                                                <br/>
                                            </t>
                                            <h6 class="text-truncate d-product-name mt-1" t-att-title="alt_product.name">
                                                <a t-att-href="alt_product.website_url">
                                                    <span t-field="alt_product.name" />
                                                </a>
                                            </h6>
                                            <div class="mt-1">
                                                <span class="font-weight-bold text-primary" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                                <small t-attf-class="oe_default_price ml-1 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div t-if="request.website.viewref('website_sale.recently_viewed_products_product').active" class="row">
                    <div class="col-12">
                        <section class="s_wsale_products_recently_viewed d-none pt24 pb24" style="min-height: 400px;">
                            <div class="container">
                                <div class="alert alert-info alert-dismissible rounded-0 fade show d-print-none css_non_editable_mode_hidden o_not_editable">
                                    This is a preview of the recently viewed products by the user.<br/>
                                    Once the user has seen at least one product this snippet will be visible.
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">  </button>
                                </div>

                                <h5 class="tp_underline_title mb-3">Recently viewed Products</h5>
                                <div class="slider o_not_editable" style="display: none;"/> <!-- TODO master: remove deprecated inline style -->
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

    <template id="product_detail_followup" name="Sticky Followup" inherit_id="website_sale.product" customize_show="True" active="True">
        <xpath expr="//section[@id='product_detail']" position="inside">
            <div class="tp-product-detail-followup position-fixed shadow border rounded-pill p-2" style="display: none;">
                <div class="d-flex align-items-center">
                    <a class="product-img" href="#">
                        <img t-attf-src="/web/image/product.template/#{product.id}/image_128" class="mr-2 rounded-circle border" t-att-alt="product.name"/>
                    </a>
                    <div class="mr-2">
                        <h6 class="mb-2 text-truncate name">
                            <t t-esc="product.name"/>
                        </h6>
                        <h6 class="css_editable_mode_hidden mb-0">
                            <span class="oe_price text-primary" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                        </h6>
                    </div>
                    <a href="#" class="btn btn-primary-soft rounded-pill add_to_cart"><i class="ri ri-shopping-cart-line rib"/></a>
                </div>
            </div>
        </xpath>
    </template>

    <template id="shop_product_carousel" inherit_id="website_sale.shop_product_carousel" name="Shop Product Carousel">
        <xpath expr="//div[@id='o-carousel-product']" position="attributes">
            <attribute name="class" add="sticky-top" separator=" " />
        </xpath>
        <xpath expr="//div[hasclass('carousel-inner')]//div[@t-else='']" position="replace">
            <div  t-else="" class="d-flex align-items-center justify-content-center h-100">
                <div t-field="product_image.image_1920" class="d-flex align-items-center justify-content-center h-100 position-relative" t-options='{"widget": "image", "preview_image": "image_1024", "class": "product_detail_img mh-100", "alt-field": "name", "zoom": product_image.can_image_1024_be_zoomed and "image_1920", "itemprop": "image"}'/>
            </div>
        </xpath>
        <xpath expr="//ol[hasclass('carousel-indicators')]" position="attributes">
            <attribute name="class" remove="p-1" separator=" "/>
        </xpath>
    </template>

    <template id="product_buy_now" inherit_id="website_sale.product_buy_now" name="Buy Now Button">
        <xpath expr="//a[@id='buy_now']" position="replace">
            <a role="button" id="buy_now" class="btn btn-secondary btn-lg mt16 d-block d-md-inline-block w-md-auto ml-0 ml-md-2" href="#"><i class="ri ri-flashlight-fill rib"/> Buy Now</a>
        </xpath>
    </template>

    <template id="product_add_to_compare" inherit_id="website_sale_comparison.product_add_to_compare" name="Add to comparison in product page">
        <xpath expr="//button[hasclass('o_add_compare_dyn')]" position="replace">
            <button t-if="product_variant" type="button" role="button" class="d-none d-md-inline-block btn btn-secondary btn-lg mt16 ml-2 o_add_compare_dyn" aria-label="Compare" t-att-data-product-product-id="product_variant.id" data-action="o_comparelist">
                <span class="ri ri-arrow-left-right-fill rib"/>
            </button>
        </xpath>
    </template>

    <template id="product_add_to_wishlist" inherit_id="website_sale_wishlist.product_add_to_wishlist" name="Add to wishlist in product page">
        <xpath expr="//button[hasclass('o_add_wishlist_dyn')]" position="replace">
            <button t-if="product_variant" type="button" role="button" class="btn btn-secondary o_add_wishlist_dyn mt16 btn-lg ml-0 ml-md-2" t-att-disabled='in_wish or None' t-att-data-product-template-id="product.id" t-att-data-product-product-id="product_variant.id" data-action="o_wishlist">
                <span class="fa fa-heart" role="img" aria-label="Add to wishlist"/> <span class="d-md-none">Add to Wishlist</span>
            </button>
        </xpath>
    </template>

    <template id="product_price" inherit_id="website_sale.product_price">
        <xpath expr="//h4[hasclass('oe_price_h4')]" position="replace">
            <h4 class="oe_price_h4 css_editable_mode_hidden">
                <span class="oe_price" style="white-space: nowrap;" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                <span itemprop="price" style="display:none;" t-esc="combination_info['price']"/>
                <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name"/>
                <small t-attf-class="text-body ml-1 oe_default_price {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;"
                    t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"
                />
                <t t-call="theme_prime.discount_in_percentage">
                    <t t-set="discount_class" t-value="''"/>
                </t>
            </h4>
        </xpath>
    </template>

    <template id="product_attributes_body" inherit_id="website_sale_comparison.product_attributes_body" name="Product attributes table">
        <xpath expr="//section[@id='product_full_spec']" position="replace"/>
    </template>

    <template id="product_comment" inherit_id="website_sale.product_comment" name="Discussion and Rating">
        <xpath expr="//div[hasclass('o_shop_discussion_rating')]" position="replace"/>
    </template>

    <template id="recently_viewed_products_product" inherit_id="website_sale.recently_viewed_products_product" name="Recently Viewed Products">
        <xpath expr="//t[@t-call='website_sale.s_products_recently_viewed']" position="replace"/>
    </template>

    <template id="recommended_products" inherit_id="website_sale.recommended_products" name="Alternative Products">
        <xpath expr="//div[@t-if='product.alternative_product_ids']" position="replace"/>
    </template>

    <template id="website_sale_stock_product" inherit_id="website_sale_stock.website_sale_stock_product">
        <xpath expr="//div[hasclass('availability_messages')]" position="replace">
        </xpath>
        <xpath expr="//div[@id='product_option_block']" position="after">
            <div class="availability_messages o_not_editable"/>
        </xpath>
    </template>

    <template id="configure_optional_products" inherit_id="sale_product_configurator.configure_optional_products">
        <xpath expr="//table" position="attributes">
            <attribute name="class" remove="table-striped table-sm" separator=" "/>
        </xpath>
        <xpath expr="//table//tr[hasclass('o_select_options')]/td/h4" position="replace">
            <h5 class="mb-0 mt-4">Available Options</h5>
        </xpath>
    </template>

    <template id="optional_product_items" inherit_id="sale_product_configurator.optional_product_items">
        <xpath expr="//div[hasclass('float-left')]" position="attributes">
            <attribute name="class"></attribute>
        </xpath>
        <xpath expr="//div[hasclass('float-right')]" position="attributes">
            <attribute name="class"></attribute>
        </xpath>
        <xpath expr="//a[hasclass('js_add')]" position="replace">
            <a role="button" href="#" class="js_add btn btn-link"><i class="fa fa-shopping-cart add-optionnal-item"></i></a>
        </xpath>
    </template>

    <template id="discount_in_percentage" name="Discount in percentage">
        <t t-if="combination_info['has_discounted_price']">
            <t t-set="discount_percentage" t-value="round((combination_info['list_price'] - combination_info['price']) / combination_info['list_price'] * 100)"/>
            <small t-attf-class="tp-off-percentage d-none d-md-inline-block ml-1 #{discount_class}" t-if="discount_percentage">
                (<t t-esc="discount_percentage"/>% OFF)
            </small>
        </t>
    </template>

    <!--
    ============================================================================
    Variant design
    ============================================================================
    -->
    <template id="variants" inherit_id="sale.variants">
        <xpath expr="//li[hasclass('js_attribute_value')]" position="replace">
            <li class="form-group js_attribute_value dr-list-radio-attribute" style="margin: 0;">
                <label class="custom-control custom-radio">
                    <div>
                        <input type="radio"
                            t-attf-class="custom-control-input js_variant_change radio_input #{ptal.attribute_id.create_variant}"
                            t-att-checked="ptav in combination"
                            t-att-name="'ptal-%s' % ptal.id"
                            t-att-value="ptav.id"
                            t-att-data-value_id="ptav.id"
                            t-att-data-value_name="ptav.name"
                            t-att-data-attribute_name="ptav.attribute_id.name"
                            t-att-data-is_custom="ptav.is_custom"
                            t-att-data-is_single_and_custom="single_and_custom" />
                        <div class="radio_input_value custom-control-label">
                            <span t-field="ptav.name"/>
                            <span class="badge badge-pill badge-secondary" t-if="ptav.price_extra">
                                <!-- see note above about price_extra -->
                                <t t-esc="ptav.price_extra > 0 and '+' or '-'"/>
                                <span t-esc="abs(ptav.price_extra)" class="variant_price_extra" style="white-space: nowrap;"
                                    t-options='{
                                        "widget": "monetary",
                                        "from_currency": product.currency_id,
                                        "display_currency": (pricelist or product).currency_id
                                    }'/>
                            </span>
                        </div>
                    </div>
                </label>
            </li>
        </xpath>
    </template>

    <!--
    ============================================================================
    Cart page
    ============================================================================
    -->
    <template id="cart" inherit_id="website_sale.cart" name="Shopping Cart">
        <xpath expr="//div[@id='wrap']//div[@id='oe_structure_website_sale_cart_1']" position="replace"/>
        <xpath expr="//div[@id='wrap']/div[hasclass('container')]" position="before">
            <div class="oe_structure" id="oe_structure_website_sale_cart_1">
                <section class="s_heading_4 pt32">
                    <div class="container">
                        <div class="row justify-content-center s_nb_column_fixed s_col_no_bgcolor">
                            <div class="col-12 col-lg-8 text-center">
                                <span class="lnr lnr-cart fa-2x bg-alpha rounded-circle"></span>
                                <h2 class="mt-3">Shopping <font class="text-alpha">Cart</font></h2>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </xpath>
    </template>

    <template id="cart_lines" inherit_id="website_sale.cart_lines" name="Shopping Cart Lines">
        <xpath expr="//table[@id='cart_products']" position="attributes">
            <attribute name="class">mb16 table js_cart_lines</attribute>
        </xpath>
        <xpath expr="//table//thead" position="attributes">
            <attribute name="class">thead-dark</attribute>
        </xpath>
        <xpath expr="//th[hasclass('td-action')]" position="replace"/>
        <xpath expr="//td[hasclass('td-action')]" position="replace"/>
        <xpath expr="//table//td[hasclass('td-product_name')]" position="inside">
            <ul class="list-inline mt-2">
                <t t-foreach="line.product_id.product_template_attribute_value_ids" t-as="att">
                    <li class="list-inline-item mb-1">
                        <span class="badge border"><t t-esc="att.attribute_id.name"/>: <t t-esc="att.name"/></span>
                    </li>
                </t>
            </ul>
            <a href='#' aria-label="Remove from cart" title="Remove from cart" class='js_delete_product no-decoration text-danger btn btn-link btn-sm'><i class='fa fa-trash-o'></i> Remove</a>
        </xpath>
    </template>

    <template id="cart_lines_subtotal" inherit_id="website_sale.cart_lines" customize_show="True" active="False" name="Sub-total for Cart Lines">
        <xpath expr="//table//thead/tr" position="inside">
            <th class="text-center td-price">Sub Total</th>
        </xpath>
        <xpath expr="//table/tbody//tr" position="inside">
            <td class="text-center td-price">
                <b t-field="line.price_subtotal" class="text-primary" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}"/>
            </td>
        </xpath>
    </template>
    <template id="suggested_products_list" inherit_id="website_sale.suggested_products_list" name="Alternative Products in my cart">
        <xpath expr="//h5[hasclass('js_cart_lines')]" position="replace">
            <h5 class='js_cart_lines mt64 mb-3' t-if="suggested_products">Suggested Products</h5>
        </xpath>
        <xpath expr="//table[@id='suggested_products']" position="replace">
            <table t-if="suggested_products" id="suggested_products" class="js_cart_lines table">
                <thead class="thead-dark">
                    <tr>
                        <th colspan="2">Product</th>
                        <th>Price</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="suggested_products" t-as="product">
                        <t t-set="combination_info" t-value="product._get_combination_info_variant()"/>
                        <td class='td-img text-center'>
                            <a t-att-href="product.website_url">
                                <span t-field="product.image_128" t-options="{'widget': 'image', 'qweb_img_responsive': False, 'class': 'rounded o_image_64_max'}" />
                            </a>
                        </td>
                        <td class='td-product_name'>
                            <div>
                                <a t-att-href="product.website_url" class="text-dark">
                                    <span t-esc="combination_info['display_name']" />
                                </a>
                            </div>
                            <div class="text-muted d-none d-md-block" t-field="product.description_sale" />
                        </td>
                        <td class='td-price'>
                            <del t-attf-class="text-danger mr8 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                            <span t-esc="combination_info['price']" style="white-space: nowrap;" t-options="{'widget': 'monetary','display_currency': website.currency_id}"/>
                        </td>
                        <td class="w-25 text-center">
                            <input class="js_quantity" name="product_id" t-att-data-product-id="product.id" type="hidden" />
                            <a role="button" class="btn btn-link text-primary js_add_suggested_products">
                                <i class="lnr lnr-cart"></i> Add to Cart
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </xpath>
    </template>

    <!--
    ============================================================================
    Wishlist page
    ============================================================================
    -->
    <template id="product_wishlist" inherit_id="website_sale_wishlist.product_wishlist" name="Wishlist Page">
        <xpath expr="//section[hasclass('wishlist-section')]" position="replace">
            <section class="container wishlist-section my-4">
                <div class="row align-items-center">
                    <div class="col-12">
                        <h3 class="d-inline-block mr-2">My Wishlist</h3><span><span class="tp-wishlist-counter" t-esc="len(wishes)"/> items</span>
                        <div class="custom-control custom-checkbox mt-2">
                            <input type="checkbox" class="custom-control-input" id="b2b_wish" value="1"/>
                            <label class="custom-control-label" for="b2b_wish">Add product to my cart but keep it in my wishlist</label>
                        </div>
                    </div>
                </div>
                <div class="row py-4">
                    <div t-foreach="wishes" t-as="wish" class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4 tp-wishlist-item" t-att-data-wish-id="wish.id" t-att-data-product-id="wish.product_id.id">
                        <div class="card">
                            <a class="card-img-top text-center" t-att-href="wish.product_id.website_url">
                                <img t-attf-src="/web/image/product.product/#{wish.product_id.id}/image_1920/350x350" class="img img-fluid" t-att-alt="wish.product_id.display_name"/>
                            </a>
                            <a href="#" class="tp_wish_rm text-body text-center" data-toggle="tooltip" title="Remove from wishlist">
                                <i class="fa fa-times"/>
                            </a>
                            <span t-if="wish.product_id.dr_label_id" t-attf-class="badge dr-product-label dr-product-label-color-#{wish.product_id.dr_label_id.color}"><div class="corner"/><t t-esc="wish.product_id.dr_label_id.name"/></span>
                            <div class="card-body p-2">
                                <div class="card-text">
                                    <h6 class="d-product-name text-truncate">
                                        <a t-att-href="wish.product_id.website_url"><t t-esc="wish.product_id.display_name"/></a>
                                    </h6>
                                    <div class="mt-1">
                                        <t t-set="combination_info" t-value="wish.product_id._get_combination_info_variant()"/>
                                        <span class="font-weight-bold text-dark" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                        <small t-attf-class="oe_default_price ml-1 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                        <t t-call="theme_prime.discount_in_percentage">
                                            <t t-set="discount_class" t-value="'font-weight-bold'"/>
                                        </t>
                                    </div>
                                    <button type="button" role="button" class="btn btn-block btn-link tp_wish_add mt-2">
                                        <i class="lnr lnr-cart"></i> Add to cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </xpath>
    </template>

    <!--
    ============================================================================
    Comparison page
    ============================================================================
    -->
    <template id="product_compare" inherit_id="website_sale_comparison.product_compare" name="Comparator Page">
        <xpath expr="//section[hasclass('container')]" position="replace">
            <section class="container my-4">
                <div class="row align-items-center">
                    <div class="col-12">
                        <h3 class="d-inline-block mr-2 mb-0">Comparison</h3><span><t t-esc="len(products)"/> items</span>
                    </div>
                </div>
                <div class="row py-4 tp-product-comparison">
                    <div class="table-responsive">
                        <table class="table table-striped w-auto">
                            <t t-set="categories" t-value="products._prepare_categories_for_display()"/>
                            <thead>
                                <tr>
                                    <td t-if="len(categories)"/>
                                    <td t-foreach="products" t-as="product">
                                        <div class="card border-0">
                                            <a class="card-img-top text-center" t-att-href="product.website_url">
                                                <img t-attf-src="/web/image/product.product/#{product.id}/image_1920/350x350" class="img img-fluid" t-att-alt="product.display_name"/>
                                            </a>
                                            <a t-if="len(products) &gt; 2" href="#" t-att-data-product_product_id="product.id" class="o_comparelist_remove text-body text-center" data-toggle="tooltip" title="Remove from comparison">
                                                <i class="fa fa-times"/>
                                            </a>
                                            <span t-if="product.dr_label_id" t-attf-class="badge dr-product-label dr-product-label-color-#{product.dr_label_id.color}"><div class="corner"/><t t-esc="product.dr_label_id.name"/></span>
                                            <div class="card-body p-2">
                                                <div class="card-text">
                                                    <t t-set="combination_info" t-value="product._get_combination_info_variant()"/>
                                                    <h6 class="text-truncate d-product-name" t-att-title="combination_info['display_name']">
                                                        <a t-att-href="product.website_url"><t t-esc="combination_info['display_name']"/></a>
                                                    </h6>
                                                    <div class="mt-1">
                                                        <span class="text-dark font-weight-bold" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                                        <small t-attf-class="oe_default_price ml-1 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.pricelist_id.currency_id}"/>
                                                        <t t-call="theme_prime.discount_in_percentage">
                                                            <t t-set="discount_class" t-value="'font-weight-bold'"/>
                                                        </t>
                                                    </div>
                                                    <form class="mt-2" action="/shop/cart/update" method="post">
                                                        <input name="product_id" t-att-value="product.id" type="hidden"/>
                                                        <a role="button" class="btn btn-primary btn-block a-submit" href="#">
                                                            <i class="ri ri-shopping-cart-line"></i> Add to cart
                                                        </a>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="categories" t-as="category">
                                    <t t-foreach="categories[category]" t-as="attribute">
                                        <tr>
                                            <td class="align-middle"><h6 class="m-0" t-field="attribute.name"/></td>
                                            <td t-foreach="categories[category][attribute]" t-as="product">
                                                <t t-foreach="categories[category][attribute][product]" t-as="ptav">
                                                    <span t-field="ptav.name"/><t t-if="not ptav_last">, </t>
                                                </t>
                                                <t t-if="not categories[category][attribute][product]">
                                                    -
                                                </t>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </xpath>
    </template>

</odoo>
